var Queue = require('../index');
var queue = new Queue('test');

var reportResult = function (result) {
  console.log('Result received: ' + result);
};

queue.process(function (job, done) {
  console.log('Processing job ' + job.id);
  return done(null, job.data.x + job.data.y);
});

var job1 = queue.createJob({x: 1, y: 2}).save();
var job2 = queue.createJob({x: 2, y: 3}).save(function (err, job) {
  console.log('Saved job ' + job.id);
});

job1.on('succeeded', reportResult);
job2.on('succeeded', reportResult);

